<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
    <meta charset="UTF-8">
    <title>Notifications</title>

    <style>

        body {
            font-family:'Segoe UI';
            background: linear-gradient(135deg,#667eea,#764ba2);
            padding:20px;
        }

        /* ------- HEADER (identique √† Mes Incidents) ------- */
        .header {
            background:white; padding:20px; border-radius:10px;
            margin-bottom:20px;
            display:flex; justify-content:space-between; align-items:center;
            box-shadow:0 4px 6px rgba(0,0,0,0.1);
        }

        .user-info {
            display:flex; align-items:center; gap:15px;
        }

        .user-badge {
            background: linear-gradient(135deg,#667eea,#764ba2);
            color:white; padding:8px 16px;
            border-radius:20px; font-weight:bold;
        }

        .btn {
            padding:10px 18px; border-radius:8px;
            text-decoration:none; color:white;
            font-weight:bold; transition:0.3s;
        }

        .btn:hover { opacity:0.85; }

        .back-btn { background:#3b82f6; }
        .logout-btn { background:#ef4444; border:none; cursor:pointer; }


        /* ------- NOTIFICATION ITEMS ------- */
        .notif-card {
            background:white; padding:20px; border-radius:10px;
            max-width:800px; margin:0 auto 20px auto;
            box-shadow:0 4px 6px rgba(0,0,0,.1);
        }

        .notif-title { font-weight:bold; color:#4f46e5; }
        .notif-date { color:#6b7280; font-size:13px; margin-bottom:8px; }

    </style>
</head>

<body>

<!-- ===== HEADER (m√™me que Mes Incidents) ===== -->
<div class="header">
    <h1>üîî Notifications</h1>

    <div class="user-info">
        <span class="user-badge" sec:authentication="principal.username"></span>

        <a th:href="@{/citoyen/home}" class="btn back-btn">üè† Dashboard</a>

        <form th:action="@{/logout}" method="post" style="margin:0;">
            <button class="btn logout-btn">D√©connexion</button>
        </form>
    </div>
</div>

<!-- ===== CONTENT ===== -->
<div th:each="n : ${notifications}" class="notif-card">
    <div class="notif-title" th:text="${n.titre}"></div>
    <div class="notif-date" th:text="${n.date}"></div>
    <p th:text="${n.message}"></p>
</div>

</body>
</html>
